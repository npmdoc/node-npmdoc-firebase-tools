<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/firebase/firebase-tools"

    >firebase-tools (v3.6.1)</a>
</h1>
<h4>Command-Line Interface for Firebase</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.firebase-tools">module firebase-tools</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config">
            function <span class="apidocSignatureSpan">firebase-tools.</span>config
            <span class="apidocSignatureSpan">(src, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.prompt">
            function <span class="apidocSignatureSpan">firebase-tools.</span>prompt
            <span class="apidocSignatureSpan">(options, questions)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.</span>config.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.</span>fsutils</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.</span>logger</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.</span>utils</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.firebase-tools.config">module firebase-tools.config</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.config">
            function <span class="apidocSignatureSpan">firebase-tools.</span>config
            <span class="apidocSignatureSpan">(src, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.load">
            function <span class="apidocSignatureSpan">firebase-tools.config.</span>load
            <span class="apidocSignatureSpan">(options, allowMissing)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.config.</span>LEGACY_HOSTING_KEYS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.config.</span>MATERIALIZE_TARGETS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">firebase-tools.config.</span>FILENAME</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.firebase-tools.config.prototype">module firebase-tools.config.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype._hasDeepKey">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>_hasDeepKey
            <span class="apidocSignatureSpan">(obj, key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype._materialize">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>_materialize
            <span class="apidocSignatureSpan">(target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype._parseFile">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>_parseFile
            <span class="apidocSignatureSpan">(target, filePath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype.askWriteProjectFile">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>askWriteProjectFile
            <span class="apidocSignatureSpan">(p, content)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype.get">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>get
            <span class="apidocSignatureSpan">(key, fallback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype.has">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>has
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype.importLegacyHostingKeys">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>importLegacyHostingKeys
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype.path">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>path
            <span class="apidocSignatureSpan">(pathName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype.readProjectFile">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>readProjectFile
            <span class="apidocSignatureSpan">(p, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype.set">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>set
            <span class="apidocSignatureSpan">(key, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype.writeProjectFile">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>writeProjectFile
            <span class="apidocSignatureSpan">(p, content)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.firebase-tools.fsutils">module firebase-tools.fsutils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.fsutils.dirExistsSync">
            function <span class="apidocSignatureSpan">firebase-tools.fsutils.</span>dirExistsSync
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.fsutils.fileExistsSync">
            function <span class="apidocSignatureSpan">firebase-tools.fsutils.</span>fileExistsSync
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.firebase-tools.logger">module firebase-tools.logger</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">firebase-tools.logger.</span>emitErrs</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">firebase-tools.logger.</span>exitOnError</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">firebase-tools.logger.</span>padLevels</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">firebase-tools.logger.</span>stripColors</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.logger.debug">
            function <span class="apidocSignatureSpan">firebase-tools.logger.</span>debug
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.logger.error">
            function <span class="apidocSignatureSpan">firebase-tools.logger.</span>error
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.logger.info">
            function <span class="apidocSignatureSpan">firebase-tools.logger.</span>info
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.logger.log">
            function <span class="apidocSignatureSpan">firebase-tools.logger.</span>log
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.logger.silly">
            function <span class="apidocSignatureSpan">firebase-tools.logger.</span>silly
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.logger.verbose">
            function <span class="apidocSignatureSpan">firebase-tools.logger.</span>verbose
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.logger.warn">
            function <span class="apidocSignatureSpan">firebase-tools.logger.</span>warn
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">firebase-tools.logger.</span>_eventsCount</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>_events</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>_hnames</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>_names</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>domain</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>exceptionHandlers</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>filters</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>levels</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>profilers</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>rewriters</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>transports</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">firebase-tools.logger.</span>level</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.firebase-tools.prompt">module firebase-tools.prompt</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.prompt.prompt">
            function <span class="apidocSignatureSpan">firebase-tools.</span>prompt
            <span class="apidocSignatureSpan">(options, questions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.prompt.convertLabeledListChoices">
            function <span class="apidocSignatureSpan">firebase-tools.prompt.</span>convertLabeledListChoices
            <span class="apidocSignatureSpan">(choices)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.prompt.listLabelToValue">
            function <span class="apidocSignatureSpan">firebase-tools.prompt.</span>listLabelToValue
            <span class="apidocSignatureSpan">(label, choices)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.prompt.once">
            function <span class="apidocSignatureSpan">firebase-tools.prompt.</span>once
            <span class="apidocSignatureSpan">(question)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.firebase-tools.utils">module firebase-tools.utils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.addSubdomain">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>addSubdomain
            <span class="apidocSignatureSpan">(origin, subdomain)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.consoleUrl">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>consoleUrl
            <span class="apidocSignatureSpan">(project, path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.endpoint">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>endpoint
            <span class="apidocSignatureSpan">(parts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.envOverride">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>envOverride
            <span class="apidocSignatureSpan">(envname, value, coerce)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.explainStdin">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>explainStdin
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.getInheritedOption">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>getInheritedOption
            <span class="apidocSignatureSpan">(options, key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.logBullet">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>logBullet
            <span class="apidocSignatureSpan">(message, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.logSuccess">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>logSuccess
            <span class="apidocSignatureSpan">(message, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.logWarning">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>logWarning
            <span class="apidocSignatureSpan">(message, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.makeActiveProject">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>makeActiveProject
            <span class="apidocSignatureSpan">(projectDir, newActive)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.reject">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>reject
            <span class="apidocSignatureSpan">(message, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.stringToStream">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>stringToStream
            <span class="apidocSignatureSpan">(text)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.firebase-tools" id="apidoc.module.firebase-tools">module firebase-tools</a></h1>


    <h2>
        <a href="#apidoc.element.firebase-tools.config" id="apidoc.element.firebase-tools.config">
        function <span class="apidocSignatureSpan">firebase-tools.</span>config
        <span class="apidocSignatureSpan">(src, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">config = function (src, options) {
  this.options = options || {};
  this.projectDir = options.projectDir || detectProjectRoot(options.cwd);

  this._src = src;
  this.data = {};
  this.defaults = {};
  this.notes = {};

  if (this._src.firebase) {
    this.defaults.project = this._src.firebase;
    utils.logWarning(chalk.bold(&#x27;&#x22;firebase&#x22;&#x27;) + &#x27; key in firebase.json is deprecated. Run &#x27; + chalk.bold(&#x27;firebase use --add&#x27;) + &#x27;
instead&#x27;);
  }

  if (_.has(this._src, &#x27;rules&#x27;)) {
    _.set(this._src, &#x27;database.rules&#x27;, this._src.rules);
  }

  Config.MATERIALIZE_TARGETS.forEach(function(target) {
    if (_.get(this._src, target)) {
      if (target === &#x27;database.rules&#x27;) {
        _.set(this.data, &#x27;database.rulesString&#x27;, this._materialize(target));
      } else {
        _.set(this.data, target, this._materialize(target));
      }
    }
  }, this);

  // auto-detect functions from package.json in directory
  if (this.projectDir &#x26;&#x26; !this.get(&#x27;functions.source&#x27;) &#x26;&#x26; fsutils.fileExistsSync(this.path(&#x27;functions/package.json&#x27;))) {
    this.set(&#x27;functions.source&#x27;, &#x27;functions&#x27;);
  }

  // use &#x27;public&#x27; as signal for legacy hosting since it&#x27;s a required key
  if (!this.data.hosting &#x26;&#x26; this._src.public) {
    this.importLegacyHostingKeys();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.prompt" id="apidoc.element.firebase-tools.prompt">
        function <span class="apidocSignatureSpan">firebase-tools.</span>prompt
        <span class="apidocSignatureSpan">(options, questions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prompt = function (options, questions) {
  return new RSVP.Promise(function(resolve, reject) {
    var prompts = [];
    for (var i = 0; i &#x3c; questions.length; i++) {
      if (!options[questions[i].name]) {
        prompts.push(questions[i]);
      }
    }

    if (prompts.length &#x26;&#x26; options.nonInteractive) {
      return reject(new FirebaseError(&#x27;Missing required options (&#x27; + _.uniq(_.map(prompts, &#x27;name&#x27;)).join(&#x27;, &#x27;) + &#x27;) while running
 in non-interactive mode&#x27;, {
        children: prompts,
        exit: 1
      }));
    }

    return inquirer.prompt(prompts, function(answers) {
      _.forEach(answers, function(v, k) {
        options[k] = v;
      });
      return resolve(options);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (prompts.length &#x26;&#x26; options.nonInteractive) {
      return reject(new FirebaseError(&#x27;Missing required options (&#x27; + _.uniq(_.map(prompts, &#x27;name&#x27;)).join(&#x27
;, &#x27;) + &#x27;) while running in non-interactive mode&#x27;, {
        children: prompts,
        exit: 1
      }));
    }

    return inquirer.<span class="apidocCodeKeywordSpan">prompt</span>(prompts, function(answers) {
      _.forEach(answers, function(v, k) {
        options[k] = v;
      });
      return resolve(options);
    });
  });
};
...</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.firebase-tools.config" id="apidoc.module.firebase-tools.config">module firebase-tools.config</a></h1>


    <h2>
        <a href="#apidoc.element.firebase-tools.config.config" id="apidoc.element.firebase-tools.config.config">
        function <span class="apidocSignatureSpan">firebase-tools.</span>config
        <span class="apidocSignatureSpan">(src, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">config = function (src, options) {
  this.options = options || {};
  this.projectDir = options.projectDir || detectProjectRoot(options.cwd);

  this._src = src;
  this.data = {};
  this.defaults = {};
  this.notes = {};

  if (this._src.firebase) {
    this.defaults.project = this._src.firebase;
    utils.logWarning(chalk.bold(&#x27;&#x22;firebase&#x22;&#x27;) + &#x27; key in firebase.json is deprecated. Run &#x27; + chalk.bold(&#x27;firebase use --add&#x27;) + &#x27;
instead&#x27;);
  }

  if (_.has(this._src, &#x27;rules&#x27;)) {
    _.set(this._src, &#x27;database.rules&#x27;, this._src.rules);
  }

  Config.MATERIALIZE_TARGETS.forEach(function(target) {
    if (_.get(this._src, target)) {
      if (target === &#x27;database.rules&#x27;) {
        _.set(this.data, &#x27;database.rulesString&#x27;, this._materialize(target));
      } else {
        _.set(this.data, target, this._materialize(target));
      }
    }
  }, this);

  // auto-detect functions from package.json in directory
  if (this.projectDir &#x26;&#x26; !this.get(&#x27;functions.source&#x27;) &#x26;&#x26; fsutils.fileExistsSync(this.path(&#x27;functions/package.json&#x27;))) {
    this.set(&#x27;functions.source&#x27;, &#x27;functions&#x27;);
  }

  // use &#x27;public&#x27; as signal for legacy hosting since it&#x27;s a required key
  if (!this.data.hosting &#x26;&#x26; this._src.public) {
    this.importLegacyHostingKeys();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.load" id="apidoc.element.firebase-tools.config.load">
        function <span class="apidocSignatureSpan">firebase-tools.config.</span>load
        <span class="apidocSignatureSpan">(options, allowMissing)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">load = function (options, allowMissing) {
  var pd = detectProjectRoot(options.cwd);
  if (pd) {
    try {
      var data = cjson.load(path.join(pd, Config.FILENAME));
      return new Config(data, options);
    } catch (e) {
      throw new FirebaseError(&#x27;There was an error loading firebase.json:\n\n&#x27; + e.message, {
        exit: 1
      });
    }
  }

  if (allowMissing) {
    return null;
  }

  throw new FirebaseError(&#x27;Not in a Firebase app directory (could not locate firebase.json)&#x27;, {exit: 1});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (_isOutside(homeDir, cwd)) {
  warnings.push(&#x27;You are currently outside your home directory&#x27;);
}
if (cwd === homeDir) {
  warnings.push(&#x27;You are initializing your home directory as a Firebase project&#x27;);
}

var config = Config.<span class="apidocCodeKeywordSpan">load</span>(options, true);
var existingConfig = !!config;
if (!existingConfig) {
  config = new Config({}, {projectDir: cwd, cwd: cwd});
} else {
  warnings.push(&#x27;You are initializing in an existing Firebase project directory&#x27;);
}
...</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.firebase-tools.config.prototype" id="apidoc.module.firebase-tools.config.prototype">module firebase-tools.config.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype._hasDeepKey" id="apidoc.element.firebase-tools.config.prototype._hasDeepKey">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>_hasDeepKey
        <span class="apidocSignatureSpan">(obj, key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_hasDeepKey = function (obj, key) {
  if (_.has(obj, key)) {
    return true;
  }

  for (var k in obj) {
    if (_.isPlainObject(obj[k]) &#x26;&#x26; this._hasDeepKey(obj[k], key)) {
      return true;
    }
  }
  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Config.prototype._hasDeepKey = function(obj, key) {
  if (_.has(obj, key)) {
    return true;
  }

  for (var k in obj) {
    if (_.isPlainObject(obj[k]) &#x26;&#x26; this.<span class="apidocCodeKeywordSpan">_hasDeepKey</span>(obj[k], key)) {
      return true;
    }
  }
  return false;
};

Config.prototype._materialize = function(target) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype._materialize" id="apidoc.element.firebase-tools.config.prototype._materialize">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>_materialize
        <span class="apidocSignatureSpan">(target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_materialize = function (target) {
  var val = _.get(this._src, target);
  if (_.isString(val)) {
    var out = this._parseFile(target, val);
    // if e.g. rules.json has {&#x22;rules&#x22;: {}} use that
    var lastSegment = _.last(target.split(&#x27;.&#x27;));
    if (_.size(out) === 1 &#x26;&#x26; _.has(out, lastSegment)) {
      out = out[lastSegment];
    }
    return out;
  } else if (_.isObject(val)) {
    if (target === &#x27;database.rules&#x27;) {
      this.notes.databaseRules = &#x27;inline&#x27;;
      return JSON.stringify({ &#x27;rules&#x27;: val }, null, 2);
    }
    return val;
  }

  throw new FirebaseError(&#x27;Parse Error: &#x22;&#x27; + target + &#x27;&#x22; must be object or import path&#x27;, {exit: 1});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (_.has(this._src, &#x27;rules&#x27;)) {
  _.set(this._src, &#x27;database.rules&#x27;, this._src.rules);
}

Config.MATERIALIZE_TARGETS.forEach(function(target) {
  if (_.get(this._src, target)) {
    if (target === &#x27;database.rules&#x27;) {
      _.set(this.data, &#x27;database.rulesString&#x27;, this.<span class="apidocCodeKeywordSpan">_materialize</span>(target));
    } else {
      _.set(this.data, target, this._materialize(target));
    }
  }
}, this);

// auto-detect functions from package.json in directory
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype._parseFile" id="apidoc.element.firebase-tools.config.prototype._parseFile">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>_parseFile
        <span class="apidocSignatureSpan">(target, filePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_parseFile = function (target, filePath) {
  var fullPath = resolveProjectPath(this.options.cwd, filePath);
  var ext = path.extname(filePath);
  if (!fsutils.fileExistsSync(fullPath)) {
    throw new FirebaseError(&#x27;Parse Error: Imported file &#x27; + filePath + &#x27; does not exist&#x27;, {exit: 1});
  }

  switch (ext) {
  case &#x27;.json&#x27;:
    if (target === &#x27;database&#x27;) {
      this.notes.databaseRules = &#x27;json&#x27;;
    } else if (target === &#x27;database.rules&#x27;) {
      var rules = fs.readFileSync(fullPath, &#x27;utf8&#x27;);
      if (validateJsonRules(rules)) {
        return rules;
      }
      utils.logWarning(chalk.bold.yellow(&#x27;database: &#x27;) + chalk.bold(filePath) + &#x27; must have an outer &#x27; + chalk.bold(&#x27;rules&#x27;) + &#x27;
key, for example:&#x27;);
      logger.warn(&#x27;\n{\n\t&#x22;rules&#x22;: {&#x22;.read&#x22;: false, &#x22;.write&#x22;: false}\n}&#x27;);
      throw new FirebaseError(&#x27;Database security rules are not correctly formatted&#x27;, {exit: 1});
    }
    return loadCJSON(fullPath);
<span class="apidocCodeCommentSpan">  /* istanbul ignore-next */
</span>  case &#x27;.bolt&#x27;:
    if (target === &#x27;database&#x27;) {
      this.notes.databaseRules = &#x27;bolt&#x27;;
    }
    return parseBoltRules(fullPath);
  default:
    throw new FirebaseError(&#x27;Parse Error: &#x27; + filePath + &#x27; is not of a supported config file type&#x27;, {exit: 1});
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
return false;
};

Config.prototype._materialize = function(target) {
var val = _.get(this._src, target);
if (_.isString(val)) {
  var out = this.<span class="apidocCodeKeywordSpan">_parseFile</span>(target, val);
  // if e.g. rules.json has {&#x22;rules&#x22;: {}} use that
  var lastSegment = _.last(target.split(&#x27;.&#x27;));
  if (_.size(out) === 1 &#x26;&#x26; _.has(out, lastSegment)) {
    out = out[lastSegment];
  }
  return out;
} else if (_.isObject(val)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype.askWriteProjectFile" id="apidoc.element.firebase-tools.config.prototype.askWriteProjectFile">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>askWriteProjectFile
        <span class="apidocSignatureSpan">(p, content)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">askWriteProjectFile = function (p, content) {
  var writeTo = this.path(p);
  var next;
  if (fsutils.fileExistsSync(writeTo)) {
    next = prompt.once({
      type: &#x27;confirm&#x27;,
      message: &#x27;File &#x27; + chalk.underline(p) + &#x27; already exists. Overwrite?&#x27;,
      default: false
    });
  } else {
    next = RSVP.resolve(true);
  }

  var self = this;
  return next.then(function(result) {
    if (result) {
      self.writeProjectFile(p, content);
      utils.logSuccess(&#x27;Wrote &#x27; + chalk.bold(p));
    } else {
      utils.logBullet(&#x27;Skipping write of &#x27; + chalk.bold(p));
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype.get" id="apidoc.element.firebase-tools.config.prototype.get">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>get
        <span class="apidocSignatureSpan">(key, fallback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (key, fallback) {
  return _.get(this.data, key, fallback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return new RSVP.Promise(function(resolve, reject) {
var fileOut = !!options.output;
var outStream = fileOut ? fs.createWriteStream(options.output) : process.stdout;
var erroring;
var errorResponse = &#x27;&#x27;;
var response;

request.<span class="apidocCodeKeywordSpan">get</span>(reqOptionsWithToken)
  .on(&#x27;response&#x27;, function(res) {
    response = res;
    if (response.statusCode &#x3e;= 400) {
      erroring = true;
    }
  })
  .on(&#x27;data&#x27;, function(chunk) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype.has" id="apidoc.element.firebase-tools.config.prototype.has">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>has
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">has = function (key) {
  return _.has(this.data, key);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
.before(requireAccess)
.action(function(options) {
  // Validate options
  if (options.raw &#x26;&#x26; options.input) {
    return utils.reject(&#x27;Cannot specify both an input file and raw format&#x27;, {exit: 1});
  } else if (options.parent.json &#x26;&#x26; options.raw) {
    return utils.reject(&#x27;Cannot output raw data in json format&#x27;, {exit: 1});
  } else if (options.input &#x26;&#x26; _.<span class="apidocCodeKeywordSpan">has</span>(options, &#x27;duration&#x27;)) {
    return utils.reject(&#x27;Cannot specify a duration for input files&#x27;, {exit: 1});
  } else if (_.has(options, &#x27;duration&#x27;) &#x26;&#x26; options.duration &#x3c;= 0) {
    return utils.reject(&#x27;Must specify a positive number of seconds&#x27;, {exit: 1});
  }

  return profiler(options);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype.importLegacyHostingKeys" id="apidoc.element.firebase-tools.config.prototype.importLegacyHostingKeys">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>importLegacyHostingKeys
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">importLegacyHostingKeys = function () {
  var found = false;
  Config.LEGACY_HOSTING_KEYS.forEach(function(key) {
    if (_.has(this._src, key)) {
      found = true;
      this.set(&#x27;hosting.&#x27; + key, this._src[key]);
    }
  }, this);
  if (found) {
    utils.logWarning(&#x27;Deprecation Warning: Firebase Hosting configuration should be moved under &#x22;hosting&#x22; key.&#x27;);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // auto-detect functions from package.json in directory
  if (this.projectDir &#x26;&#x26; !this.get(&#x27;functions.source&#x27;) &#x26;&#x26; fsutils.fileExistsSync(this.path(&#x27;functions
/package.json&#x27;))) {
    this.set(&#x27;functions.source&#x27;, &#x27;functions&#x27;);
  }

  // use &#x27;public&#x27; as signal for legacy hosting since it&#x27;s a required key
  if (!this.data.hosting &#x26;&#x26; this._src.public) {
    this.<span class="apidocCodeKeywordSpan">importLegacyHostingKeys</span>();
  }
};

Config.FILENAME = &#x27;firebase.json&#x27;;
Config.MATERIALIZE_TARGETS = [&#x27;functions&#x27;, &#x27;hosting&#x27;, &#x27;database.rules&#x27;, &#x27;storage&#x27;];
Config.LEGACY_HOSTING_KEYS = [&#x27;public&#x27;, &#x27;rewrites&#x27;, &#x27;redirects&#x27;, &#x27;headers&#x27;, &#x27;ignore
&#x27;, &#x27;cleanUrls&#x27;, &#x27;trailingSlash&#x27;];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype.path" id="apidoc.element.firebase-tools.config.prototype.path">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>path
        <span class="apidocSignatureSpan">(pathName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">path = function (pathName) {
  var outPath = path.normalize(path.join(this.projectDir, pathName));
  if (_.includes(path.relative(this.projectDir, outPath), &#x27;..&#x27;)) {
    throw new FirebaseError(chalk.bold(pathName) + &#x27; is outside of project directory&#x27;, {exit: 1});
  }
  return outPath;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    } else {
      _.set(this.data, target, this._materialize(target));
    }
  }
}, this);

// auto-detect functions from package.json in directory
if (this.projectDir &#x26;&#x26; !this.get(&#x27;functions.source&#x27;) &#x26;&#x26; fsutils.fileExistsSync(this.<span class="apidocCodeKeywordSpan
">path</span>(&#x27;functions/package.json&#x27;))) {
  this.set(&#x27;functions.source&#x27;, &#x27;functions&#x27;);
}

// use &#x27;public&#x27; as signal for legacy hosting since it&#x27;s a required key
if (!this.data.hosting &#x26;&#x26; this._src.public) {
  this.importLegacyHostingKeys();
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype.readProjectFile" id="apidoc.element.firebase-tools.config.prototype.readProjectFile">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>readProjectFile
        <span class="apidocSignatureSpan">(p, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readProjectFile = function (p, options) {
  try {
    var content = fs.readFileSync(this.path(p), &#x27;utf8&#x27;);
    if (options.json) {
      return JSON.parse(content);
    }
    return content;
  } catch (e) {
    if (options.fallback) {
      return options.fallback;
    }
    throw e;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
logger.info(chalk.yellow.bold(BANNER_TEXT) +
  &#x27;\nYou\&#x27;re about to initialize a Firebase project in this directory:\n\n  &#x27; + chalk.bold(config.projectDir) + &#
x27;\n&#x27; +
  warningText
);

var setup = {
  config: config._src,
  rcfile: config.<span class="apidocCodeKeywordSpan">readProjectFile</span>(&#x27;.firebaserc&#x27;, {
    json: true,
    fallback: {}
  })
};

var choices = [
  {name: &#x27;database&#x27;, label: &#x27;Database: Deploy Firebase Realtime Database Rules&#x27;, checked: true},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype.set" id="apidoc.element.firebase-tools.config.prototype.set">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>set
        <span class="apidocSignatureSpan">(key, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">set = function (key, value) {
  return _.set(this.data, key, value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

return prompt(options, [{
  type: &#x27;confirm&#x27;,
  name: &#x27;collectUsage&#x27;,
  message: &#x27;Allow Firebase to collect anonymous CLI usage information?&#x27;
}]).then(function() {
  configstore.<span class="apidocCodeKeywordSpan">set</span>(&#x27;usage&#x27;, options.collectUsage);
  return auth.login(options.localhost);
}).then(function(result) {
  configstore.set(&#x27;user&#x27;, result.user);
  configstore.set(&#x27;tokens&#x27;, result.tokens);
  // store login scopes in case mandatory scopes grow over time
  configstore.set(&#x27;loginScopes&#x27;, result.scopes);
  // remove old session token, if it exists
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype.writeProjectFile" id="apidoc.element.firebase-tools.config.prototype.writeProjectFile">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>writeProjectFile
        <span class="apidocSignatureSpan">(p, content)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeProjectFile = function (p, content) {
  if (typeof content !== &#x27;string&#x27;) {
    content = JSON.stringify(content, null, 2) + &#x27;\n&#x27;;
  }

  fs.ensureFileSync(this.path(p));
  fs.writeFileSync(this.path(p), content, &#x27;utf8&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
}
setup.features.unshift(&#x27;project&#x27;);
return init(setup, config, options);
    }).then(function() {
logger.info();
utils.logBullet(&#x27;Writing configuration info to &#x27; + chalk.bold(&#x27;firebase.json&#x27;) + &#x27;...&#x27;);
config.<span class="apidocCodeKeywordSpan">writeProjectFile</span>(&#x27;firebase.json&#x27;, setup.config);
utils.logBullet(&#x27;Writing project information to &#x27; + chalk.bold(&#x27;.firebaserc&#x27;) + &#x27;...&#x27;);
config.writeProjectFile(&#x27;.firebaserc&#x27;, setup.rcfile);
logger.info();
utils.logSuccess(&#x27;Firebase initialization complete!&#x27;);

if (setup.createProject) {
  logger.info();
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.firebase-tools.fsutils" id="apidoc.module.firebase-tools.fsutils">module firebase-tools.fsutils</a></h1>


    <h2>
        <a href="#apidoc.element.firebase-tools.fsutils.dirExistsSync" id="apidoc.element.firebase-tools.fsutils.dirExistsSync">
        function <span class="apidocSignatureSpan">firebase-tools.fsutils.</span>dirExistsSync
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dirExistsSync = function (path) {
  try {
    var stats = fs.lstatSync(path);
    return stats.isDirectory();
  } catch (e) {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.fsutils.fileExistsSync" id="apidoc.element.firebase-tools.fsutils.fileExistsSync">
        function <span class="apidocSignatureSpan">firebase-tools.fsutils.</span>fileExistsSync
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fileExistsSync = function (path) {
  try {
    var stats = fs.lstatSync(path);
    return stats.isFile();
  } catch (e) {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    } else {
      _.set(this.data, target, this._materialize(target));
    }
  }
}, this);

// auto-detect functions from package.json in directory
if (this.projectDir &#x26;&#x26; !this.get(&#x27;functions.source&#x27;) &#x26;&#x26; fsutils.<span class="apidocCodeKeywordSpan
">fileExistsSync</span>(this.path(&#x27;functions/package.json&#x27;))) {
  this.set(&#x27;functions.source&#x27;, &#x27;functions&#x27;);
}

// use &#x27;public&#x27; as signal for legacy hosting since it&#x27;s a required key
if (!this.data.hosting &#x26;&#x26; this._src.public) {
  this.importLegacyHostingKeys();
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.firebase-tools.logger" id="apidoc.module.firebase-tools.logger">module firebase-tools.logger</a></h1>










    <h2>
        <a href="#apidoc.element.firebase-tools.logger.debug" id="apidoc.element.firebase-tools.logger.debug">
        function <span class="apidocSignatureSpan">firebase-tools.logger.</span>debug
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var responseToError = require(&#x27;./responseToError&#x27;);
var refreshToken;
var commandScopes;
var scopes = require(&#x27;./scopes&#x27;);
var CLI_VERSION = require(&#x27;../package.json&#x27;).version;

var _request = function(options) {
logger.<span class="apidocCodeKeywordSpan">debug</span>(&#x27;&#x3e;&#x3e;&#x3e; HTTP REQUEST&#x27;,
  options.method,
  options.url,
  options.body || options.form || &#x27;&#x27;,
  &#x27;\n&#x27;,
  new Date().toString()
);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.logger.error" id="apidoc.element.firebase-tools.logger.error">
        function <span class="apidocSignatureSpan">firebase-tools.logger.</span>error
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
&#x27;data:update&#x27;: &#x27;database:update&#x27;,
&#x27;deploy:hosting&#x27;: &#x27;deploy --only hosting&#x27;,
&#x27;deploy:database&#x27;: &#x27;deploy --only database&#x27;,
&#x27;prefs:token&#x27;: &#x27;login:ci&#x27;
};

program.action(function(cmd, cmd2) {
logger.<span class="apidocCodeKeywordSpan">error</span>(
  chalk.bold.red(&#x27;Error:&#x27;),
  chalk.bold(cmd), &#x27;is not a Firebase command&#x27;
);

if (RENAMED_COMMANDS[cmd]) {
  logger.error();
  logger.error(chalk.bold(cmd) + &#x27; has been renamed, please run&#x27;, chalk.bold(&#x27;firebase &#x27; + RENAMED_COMMANDS[
cmd]), &#x27;instead&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.logger.info" id="apidoc.element.firebase-tools.logger.info">
        function <span class="apidocSignatureSpan">firebase-tools.logger.</span>info
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var exportOptions = checkRes;
  var writeStream = fs.createWriteStream(dataFile);
  if (exportOptions.format === &#x27;json&#x27;) {
    writeStream.write(&#x27;{&#x22;users&#x22;: [&#x27; + os.EOL);
  }
  exportOptions.writeStream = writeStream;
  exportOptions.batchSize = MAX_BATCH_SIZE;
  logger.<span class="apidocCodeKeywordSpan">info</span>(&#x27;Exporting accounts to &#x27; + chalk.bold(dataFile));
  return serialExportUsers(projectId, exportOptions).then(function() {
    if (exportOptions.format === &#x27;json&#x27;) {
      writeStream.write(&#x27;]}&#x27;);
    }
    writeStream.end();
  });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.logger.log" id="apidoc.element.firebase-tools.logger.log">
        function <span class="apidocSignatureSpan">firebase-tools.logger.</span>log
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">log = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  if (args.length &#x3e;= 2 &#x26;&#x26; args[1] instanceof Error) {
    args[1] = args[1].stack;
  }
  return oldLogFunc.apply(this, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Using as a Module

The Firebase CLI can also be used programmatically as a standard Node module. Each command is exposed as a function that takes an
 options object and returns a Promise. For example:

```js
var client = require(&#x27;firebase-tools&#x27;);
client.list().then(function(data) {
console.<span class="apidocCodeKeywordSpan">log</span>(data);
}).catch(function(err) {
// handle error
});

client.deploy({
project: &#x27;myfirebase&#x27;,
token: process.env.FIREBASE_TOKEN,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.logger.silly" id="apidoc.element.firebase-tools.logger.silly">
        function <span class="apidocSignatureSpan">firebase-tools.logger.</span>silly
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">silly = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.logger.verbose" id="apidoc.element.firebase-tools.logger.verbose">
        function <span class="apidocSignatureSpan">firebase-tools.logger.</span>verbose
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">verbose = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.logger.warn" id="apidoc.element.firebase-tools.logger.warn">
        function <span class="apidocSignatureSpan">firebase-tools.logger.</span>warn
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warn = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
module.exports = new Command(&#x27;help [command]&#x27;)
.description(&#x27;display help information&#x27;)
.action(function(commandName) {
  var cmd = this.client.getCommand(commandName);
  if (cmd) {
    cmd.outputHelp();
  } else if (commandName) {
    logger.<span class="apidocCodeKeywordSpan">warn</span>();
    utils.logWarning(chalk.bold(commandName) + &#x27; is not a valid command. See below for valid commands&#x27;);
    this.client.cli.outputHelp();
  } else {
    this.client.cli.outputHelp();
    logger.info();
    logger.info(&#x27;  To get help with a specific command, type&#x27;, chalk.bold(&#x27;firebase help [command_name]&#x27;));
    logger.info();
...</pre></li>
    </ul>


























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.firebase-tools.prompt" id="apidoc.module.firebase-tools.prompt">module firebase-tools.prompt</a></h1>


    <h2>
        <a href="#apidoc.element.firebase-tools.prompt.prompt" id="apidoc.element.firebase-tools.prompt.prompt">
        function <span class="apidocSignatureSpan">firebase-tools.</span>prompt
        <span class="apidocSignatureSpan">(options, questions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prompt = function (options, questions) {
  return new RSVP.Promise(function(resolve, reject) {
    var prompts = [];
    for (var i = 0; i &#x3c; questions.length; i++) {
      if (!options[questions[i].name]) {
        prompts.push(questions[i]);
      }
    }

    if (prompts.length &#x26;&#x26; options.nonInteractive) {
      return reject(new FirebaseError(&#x27;Missing required options (&#x27; + _.uniq(_.map(prompts, &#x27;name&#x27;)).join(&#x27;, &#x27;) + &#x27;) while running
 in non-interactive mode&#x27;, {
        children: prompts,
        exit: 1
      }));
    }

    return inquirer.prompt(prompts, function(answers) {
      _.forEach(answers, function(v, k) {
        options[k] = v;
      });
      return resolve(options);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (prompts.length &#x26;&#x26; options.nonInteractive) {
      return reject(new FirebaseError(&#x27;Missing required options (&#x27; + _.uniq(_.map(prompts, &#x27;name&#x27;)).join(&#x27
;, &#x27;) + &#x27;) while running in non-interactive mode&#x27;, {
        children: prompts,
        exit: 1
      }));
    }

    return inquirer.<span class="apidocCodeKeywordSpan">prompt</span>(prompts, function(answers) {
      _.forEach(answers, function(v, k) {
        options[k] = v;
      });
      return resolve(options);
    });
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.prompt.convertLabeledListChoices" id="apidoc.element.firebase-tools.prompt.convertLabeledListChoices">
        function <span class="apidocSignatureSpan">firebase-tools.prompt.</span>convertLabeledListChoices
        <span class="apidocSignatureSpan">(choices)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">convertLabeledListChoices = function (choices) {
  return choices.map(function(choice) {
    return {checked: choice.checked, name: choice.label};
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return undefined;
  }

  return prompt(setup, [{
    type: &#x27;checkbox&#x27;,
    name: &#x27;features&#x27;,
    message: &#x27;What Firebase CLI features do you want to setup for this directory?&#x27;,
    choices: prompt.<span class="apidocCodeKeywordSpan">convertLabeledListChoices</span>(choices)
  }]);
}).then(function() {
  if (!setup.featureArg) {
    setup.features = setup.features.map(function(feat) {
      return prompt.listLabelToValue(feat, choices);
    });
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.prompt.listLabelToValue" id="apidoc.element.firebase-tools.prompt.listLabelToValue">
        function <span class="apidocSignatureSpan">firebase-tools.prompt.</span>listLabelToValue
        <span class="apidocSignatureSpan">(label, choices)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listLabelToValue = function (label, choices) {
  for (var i = 0; i &#x3c; choices.length; i++) {
    if (choices[i].label === label) {
      return choices[i].name;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    name: &#x27;features&#x27;,
    message: &#x27;What Firebase CLI features do you want to setup for this directory?&#x27;,
    choices: prompt.convertLabeledListChoices(choices)
  }]);
}).then(function() {
  if (!setup.featureArg) {
    setup.features = setup.features.map(function(feat) {
      return prompt.<span class="apidocCodeKeywordSpan">listLabelToValue</span>(feat, choices);
    });
  }
  setup.features.unshift(&#x27;project&#x27;);
  return init(setup, config, options);
}).then(function() {
  logger.info();
  utils.logBullet(&#x27;Writing configuration info to &#x27; + chalk.bold(&#x27;firebase.json&#x27;) + &#x27;...&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.prompt.once" id="apidoc.element.firebase-tools.prompt.once">
        function <span class="apidocSignatureSpan">firebase-tools.prompt.</span>once
        <span class="apidocSignatureSpan">(question)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">once = function (question) {
  question.name = question.name || &#x27;question&#x27;;
  return prompt({}, [question]).then(function(answers) { return answers[question.name]; });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // {name: &#x27;storage&#x27;, label: &#x27;Storage: Deploy Firebase Storage Security Rules&#x27;, checked: true}
];

var next;
// HACK: Windows Node has issues with selectables as the first prompt, so we
// add an extra confirmation prompt that fixes the problem
if (process.platform === &#x27;win32&#x27;) {
  next = prompt.<span class="apidocCodeKeywordSpan">once</span>({
    type: &#x27;confirm&#x27;,
    message: &#x27;Are you ready to proceed?&#x27;
  });
} else {
  next = RSVP.resolve(true);
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.firebase-tools.utils" id="apidoc.module.firebase-tools.utils">module firebase-tools.utils</a></h1>


    <h2>
        <a href="#apidoc.element.firebase-tools.utils.addSubdomain" id="apidoc.element.firebase-tools.utils.addSubdomain">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>addSubdomain
        <span class="apidocSignatureSpan">(origin, subdomain)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addSubdomain = function (origin, subdomain) {
  return origin.replace(&#x27;//&#x27;, &#x27;//&#x27; + subdomain + &#x27;.&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  .option(&#x27;--equal-to &#x3c;val&#x3e;&#x27;, &#x27;restrict results to &#x3c;val&#x3e; (based on specified ordering)&#x27;)
  .before(requireAccess)
  .action(function(path, options) {
if (!_.startsWith(path, &#x27;/&#x27;)) {
  return utils.reject(&#x27;Path must begin with /&#x27;, {exit: 1});
}

var url = utils.<span class="apidocCodeKeywordSpan">addSubdomain</span>(api.realtimeOrigin, options.instance) + path + &#x27;.json
?&#x27;;
var query = {};
if (options.shallow) { query.shallow = &#x27;true&#x27;; }
if (options.pretty) { query.print = &#x27;pretty&#x27;; }
if (options.export) { query.format = &#x27;export&#x27;; }
if (options.orderByKey) { options.orderBy = &#x27;$key&#x27;; }
if (options.orderByValue) { options.orderBy = &#x27;$value&#x27;; }
_applyStringOpts(query, options, [&#x27;limitToFirst&#x27;, &#x27;limitToLast&#x27;], [&#x27;orderBy&#x27;, &#x27;startAt&#x27;, &#
x27;endAt&#x27;, &#x27;equalTo&#x27;]);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.consoleUrl" id="apidoc.element.firebase-tools.utils.consoleUrl">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>consoleUrl
        <span class="apidocSignatureSpan">(project, path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">consoleUrl = function (project, path) {
  var api = require(&#x27;./api&#x27;);
  return api.consoleOrigin + &#x27;/project/&#x27; + project + path;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return reject(responseToError(res, body));
  }

  if (!_.endsWith(path, &#x27;/&#x27;)) {
    path += &#x27;/&#x27;;
  }

  var consoleUrl = utils.<span class="apidocCodeKeywordSpan">consoleUrl</span>(options.project, &#x27;/database/data&#x27; + path
 + body.name);
  var refurl = utils.addSubdomain(api.realtimeOrigin, options.instance) + path + body.name;

  utils.logSuccess(&#x27;Data pushed successfully&#x27;);
  logger.info();
  logger.info(chalk.bold(&#x27;View data at:&#x27;), consoleUrl);
  return resolve(new Firebase(refurl));
}));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.endpoint" id="apidoc.element.firebase-tools.utils.endpoint">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>endpoint
        <span class="apidocSignatureSpan">(parts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">endpoint = function (parts) {
  return &#x27;/&#x27; + _.join(parts, &#x27;/&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.envOverride" id="apidoc.element.firebase-tools.utils.envOverride">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>envOverride
        <span class="apidocSignatureSpan">(envname, value, coerce)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">envOverride = function (envname, value, coerce) {
  if (process.env[envname] &#x26;&#x26; process.env[envname].length) {
    if (coerce) {
      try {
        return coerce(process.env[envname], value);
      } catch (e) {
        return value;
      }
    }
    return process.env[envname];
  }
  return value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
return path;
};

var api = {
// &#x22;In this context, the client secret is obviously not treated as a secret&#x22;
// https://developers.google.com/identity/protocols/OAuth2InstalledApp
clientId: utils.<span class="apidocCodeKeywordSpan">envOverride</span>(&#x27;FIREBASE_CLIENT_ID&#x27;, &#x27;563584335869-fgrhgmd47bqnekij5i8b5pr03ho849e6
.apps.googleusercontent.com&#x27;),
clientSecret: utils.envOverride(&#x27;FIREBASE_CLIENT_SECRET&#x27;, &#x27;j9iVZfS8kkCEFUPaAeJV0sAi&#x27;),
cloudloggingOrigin: utils.envOverride(&#x27;FIREBASE_CLOUDLOGGING_URL&#x27;, &#x27;https://logging.googleapis.com&#x27;),
adminOrigin: utils.envOverride(&#x27;FIREBASE_ADMIN_URL&#x27;, &#x27;https://admin.firebase.com&#x27;),
apikeysOrigin: utils.envOverride(&#x27;FIREBASE_APIKEYS_URL&#x27;, &#x27;https://apikeys.googleapis.com&#x27;),
appengineOrigin: utils.envOverride(&#x27;FIREBASE_APPENGINE_URL&#x27;, &#x27;https://appengine.googleapis.com&#x27;),
authOrigin: utils.envOverride(&#x27;FIREBASE_AUTH_URL&#x27;, &#x27;https://accounts.google.com&#x27;),
consoleOrigin: utils.envOverride(&#x27;FIREBASE_CONSOLE_URL&#x27;, &#x27;https://console.firebase.google.com&#x27;),
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.explainStdin" id="apidoc.element.firebase-tools.utils.explainStdin">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>explainStdin
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">explainStdin = function () {
  if (isWindows) {
    throw new FirebaseError(&#x27;STDIN input is not available on Windows.&#x27;, {exit: 1});
  }
  if (process.stdin.isTTY) {
    logger.info(chalk.bold(&#x27;Note:&#x27;), &#x27;Reading STDIN. Type JSON data and then press Ctrl-D&#x27;);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return utils.reject(&#x27;Path must begin with /&#x27;, {exit: 1});
}

var inStream = utils.stringToStream(options.data) || (infile ? fs.createReadStream(infile) : process.stdin);
var url = utils.addSubdomain(api.realtimeOrigin, options.instance) + path + &#x27;.json?&#x27;;

if (!infile &#x26;&#x26; !options.data) {
  utils.<span class="apidocCodeKeywordSpan">explainStdin</span>();
}

var reqOptions = {
  url: url,
  json: true
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.getInheritedOption" id="apidoc.element.firebase-tools.utils.getInheritedOption">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>getInheritedOption
        <span class="apidocSignatureSpan">(options, key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getInheritedOption = function (options, key) {
  var target = options;
  while (target) {
    if (_.has(target, key)) {
      return target[key];
    }
    target = target.parent;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

module.exports = new Command(&#x27;logout&#x27;)
.description(&#x27;log the CLI out of Firebase&#x27;)
.action(function(options) {
  var user = configstore.get(&#x27;user&#x27;);
  var tokens = configstore.get(&#x27;tokens&#x27;);
  var currentToken = _.get(tokens, &#x27;refresh_token&#x27;);
  var token = utils.<span class="apidocCodeKeywordSpan">getInheritedOption</span>(options, &#x27;token&#x27;) || currentToken;
  api.setToken(token);
  var next;
  if (token) {
    next = auth.logout(token);
  } else {
    next = RSVP.resolve();
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.logBullet" id="apidoc.element.firebase-tools.utils.logBullet">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>logBullet
        <span class="apidocSignatureSpan">(message, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logBullet = function (message, type) {
  type = type || &#x27;info&#x27;;
  logger[type](chalk.cyan.bold(&#x27;i &#x27;), message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return prompt.listLabelToValue(feat, choices);
  });
}
setup.features.unshift(&#x27;project&#x27;);
return init(setup, config, options);
    }).then(function() {
logger.info();
utils.<span class="apidocCodeKeywordSpan">logBullet</span>(&#x27;Writing configuration info to &#x27; + chalk.bold(&#x27;firebase
.json&#x27;) + &#x27;...&#x27;);
config.writeProjectFile(&#x27;firebase.json&#x27;, setup.config);
utils.logBullet(&#x27;Writing project information to &#x27; + chalk.bold(&#x27;.firebaserc&#x27;) + &#x27;...&#x27;);
config.writeProjectFile(&#x27;.firebaserc&#x27;, setup.rcfile);
logger.info();
utils.logSuccess(&#x27;Firebase initialization complete!&#x27;);

if (setup.createProject) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.logSuccess" id="apidoc.element.firebase-tools.utils.logSuccess">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>logSuccess
        <span class="apidocSignatureSpan">(message, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logSuccess = function (message, type) {
  type = type || &#x27;info&#x27;;
  var chr = isWindows ? &#x27;+&#x27; : &#x27;&#x27;;
  logger[type](chalk.green(chr + &#x27; &#x27;), message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        if (!_.endsWith(path, &#x27;/&#x27;)) {
          path += &#x27;/&#x27;;
        }

        var consoleUrl = utils.consoleUrl(options.project, &#x27;/database/data&#x27; + path + body.name);
        var refurl = utils.addSubdomain(api.realtimeOrigin, options.instance) + path + body.name;

        utils.<span class="apidocCodeKeywordSpan">logSuccess</span>(&#x27;Data pushed successfully&#x27;);
        logger.info();
        logger.info(chalk.bold(&#x27;View data at:&#x27;), consoleUrl);
        return resolve(new Firebase(refurl));
      }));
    });
  });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.logWarning" id="apidoc.element.firebase-tools.utils.logWarning">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>logWarning
        <span class="apidocSignatureSpan">(message, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logWarning = function (message, type) {
  type = type || &#x27;warn&#x27;;
  var chr = isWindows ? &#x27;!&#x27; : &#x27;&#x27;;
  logger[type](chalk.yellow.bold(chr + &#x27; &#x27;), message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return acquireRefs(options, [scopes.CLOUD_PLATFORM])
    .catch(function(err) {
      if (options.config.has(&#x27;functions&#x27;)) {
        throw err;
      }

      logger.info();
      utils.<span class="apidocCodeKeywordSpan">logWarning</span>(chalk.bold(&#x27;Your CLI authentication needs to be updated to
 take advantage of new features.&#x27;));
      utils.logWarning(chalk.bold(&#x27;Please run &#x27; + chalk.underline(&#x27;firebase login --reauth&#x27;)));
      logger.info();

      return acquireRefs(options, []);
    });
})
.before(checkDupHostingKeys)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.makeActiveProject" id="apidoc.element.firebase-tools.utils.makeActiveProject">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>makeActiveProject
        <span class="apidocSignatureSpan">(projectDir, newActive)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">makeActiveProject = function (projectDir, newActive) {
  var activeProjects = configstore.get(&#x27;activeProjects&#x27;) || {};
  if (newActive) {
    activeProjects[projectDir] = newActive;
  } else {
    _.unset(activeProjects, projectDir);
  }

  configstore.set(&#x27;activeProjects&#x27;, activeProjects);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  return next.then(function(confirmed) {
    if (confirmed) {
      options.config.writeProjectFile(&#x27;firebase.json&#x27;, out);
      utils.logSuccess(&#x27;Migrated &#x27; + chalk.bold(&#x27;firebase.json&#x27;) + &#x27; successfully&#x27;);
      if (projectId) {
        options.config.writeProjectFile(&#x27;.firebaserc&#x27;, rcfile);
        utils.<span class="apidocCodeKeywordSpan">makeActiveProject</span>(options.projectRoot, projectId);
        utils.logSuccess(&#x27;Set default project to &#x27; + chalk.bold(projectId));
      }
    } else {
      return utils.reject(&#x27;Migration aborted by user.&#x27;, {exit: 1});
    }
  });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.reject" id="apidoc.element.firebase-tools.utils.reject">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>reject
        <span class="apidocSignatureSpan">(message, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reject = function (message, options) {
  return RSVP.reject(new FirebaseError(message, options));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var checkRes = validateOptions(options);
if (!checkRes.valid) {
  return checkRes;
}
var hashOptions = checkRes;

if (!_.endsWith(dataFile, &#x27;.csv&#x27;) &#x26;&#x26; !_.endsWith(dataFile, &#x27;.json&#x27;)) {
  return utils.<span class="apidocCodeKeywordSpan">reject</span>(&#x27;Data file must end with .csv or .json&#x27;, {exit: 1});
}
var stats = fs.statSync(dataFile);
var fileSizeInBytes = stats.size;
logger.info(&#x27;Processing &#x27; + chalk.bold(dataFile) + &#x27; (&#x27; + fileSizeInBytes + &#x27; bytes)&#x27;);

var inStream = fs.createReadStream(dataFile);
var batches = [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.stringToStream" id="apidoc.element.firebase-tools.utils.stringToStream">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>stringToStream
        <span class="apidocSignatureSpan">(text)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stringToStream = function (text) {
  if (!text) {
    return undefined;
  }
  var s = new Readable();
  s.push(text);
  s.push(null);
  return s;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  .option(&#x27;-d, --data &#x3c;data&#x3e;&#x27;, &#x27;specify escaped JSON directly&#x27;)
  .before(requireAccess)
  .action(function(path, infile, options) {
if (!_.startsWith(path, &#x27;/&#x27;)) {
  return utils.reject(&#x27;Path must begin with /&#x27;, {exit: 1});
}

var inStream = utils.<span class="apidocCodeKeywordSpan">stringToStream</span>(options.data) || (infile ? fs.createReadStream(infile
) : process.stdin);
var url = utils.addSubdomain(api.realtimeOrigin, options.instance) + path + &#x27;.json?&#x27;;

if (!infile &#x26;&#x26; !options.data) {
  utils.explainStdin();
}

var reqOptions = {
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>

<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/firebase/firebase-tools">firebase-tools (v3.6.1)</a>
</h1>
<h4>Command-Line Interface for Firebase</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.firebase-tools">module firebase-tools</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config">
            function <span class="apidocSignatureSpan">firebase-tools.</span>config
            <span class="apidocSignatureSpan">(src, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.prompt">
            function <span class="apidocSignatureSpan">firebase-tools.</span>prompt
            <span class="apidocSignatureSpan">(options, questions)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.</span>config.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.</span>fsutils</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.</span>logger</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.</span>utils</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.firebase-tools.config">module firebase-tools.config</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.config">
            function <span class="apidocSignatureSpan">firebase-tools.</span>config
            <span class="apidocSignatureSpan">(src, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.load">
            function <span class="apidocSignatureSpan">firebase-tools.config.</span>load
            <span class="apidocSignatureSpan">(options, allowMissing)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.config.</span>LEGACY_HOSTING_KEYS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.config.</span>MATERIALIZE_TARGETS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">firebase-tools.config.</span>FILENAME</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.firebase-tools.config.prototype">module firebase-tools.config.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype._hasDeepKey">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>_hasDeepKey
            <span class="apidocSignatureSpan">(obj, key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype._materialize">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>_materialize
            <span class="apidocSignatureSpan">(target)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype._parseFile">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>_parseFile
            <span class="apidocSignatureSpan">(target, filePath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype.askWriteProjectFile">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>askWriteProjectFile
            <span class="apidocSignatureSpan">(p, content)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype.get">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>get
            <span class="apidocSignatureSpan">(key, fallback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype.has">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>has
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype.importLegacyHostingKeys">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>importLegacyHostingKeys
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype.path">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>path
            <span class="apidocSignatureSpan">(pathName)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype.readProjectFile">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>readProjectFile
            <span class="apidocSignatureSpan">(p, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype.set">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>set
            <span class="apidocSignatureSpan">(key, value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.config.prototype.writeProjectFile">
            function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>writeProjectFile
            <span class="apidocSignatureSpan">(p, content)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.firebase-tools.fsutils">module firebase-tools.fsutils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.fsutils.dirExistsSync">
            function <span class="apidocSignatureSpan">firebase-tools.fsutils.</span>dirExistsSync
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.fsutils.fileExistsSync">
            function <span class="apidocSignatureSpan">firebase-tools.fsutils.</span>fileExistsSync
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.firebase-tools.logger">module firebase-tools.logger</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">firebase-tools.logger.</span>emitErrs</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">firebase-tools.logger.</span>exitOnError</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">firebase-tools.logger.</span>padLevels</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">firebase-tools.logger.</span>stripColors</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.logger.debug">
            function <span class="apidocSignatureSpan">firebase-tools.logger.</span>debug
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.logger.error">
            function <span class="apidocSignatureSpan">firebase-tools.logger.</span>error
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.logger.info">
            function <span class="apidocSignatureSpan">firebase-tools.logger.</span>info
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.logger.log">
            function <span class="apidocSignatureSpan">firebase-tools.logger.</span>log
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.logger.silly">
            function <span class="apidocSignatureSpan">firebase-tools.logger.</span>silly
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.logger.verbose">
            function <span class="apidocSignatureSpan">firebase-tools.logger.</span>verbose
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.logger.warn">
            function <span class="apidocSignatureSpan">firebase-tools.logger.</span>warn
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">firebase-tools.logger.</span>_eventsCount</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>_events</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>_hnames</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>_names</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>domain</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>exceptionHandlers</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>filters</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>levels</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>profilers</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>rewriters</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">firebase-tools.logger.</span>transports</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">firebase-tools.logger.</span>level</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.firebase-tools.prompt">module firebase-tools.prompt</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.prompt.prompt">
            function <span class="apidocSignatureSpan">firebase-tools.</span>prompt
            <span class="apidocSignatureSpan">(options, questions)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.prompt.convertLabeledListChoices">
            function <span class="apidocSignatureSpan">firebase-tools.prompt.</span>convertLabeledListChoices
            <span class="apidocSignatureSpan">(choices)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.prompt.listLabelToValue">
            function <span class="apidocSignatureSpan">firebase-tools.prompt.</span>listLabelToValue
            <span class="apidocSignatureSpan">(label, choices)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.prompt.once">
            function <span class="apidocSignatureSpan">firebase-tools.prompt.</span>once
            <span class="apidocSignatureSpan">(question)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.firebase-tools.utils">module firebase-tools.utils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.addSubdomain">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>addSubdomain
            <span class="apidocSignatureSpan">(origin, subdomain)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.consoleUrl">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>consoleUrl
            <span class="apidocSignatureSpan">(project, path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.endpoint">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>endpoint
            <span class="apidocSignatureSpan">(parts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.envOverride">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>envOverride
            <span class="apidocSignatureSpan">(envname, value, coerce)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.explainStdin">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>explainStdin
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.getInheritedOption">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>getInheritedOption
            <span class="apidocSignatureSpan">(options, key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.logBullet">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>logBullet
            <span class="apidocSignatureSpan">(message, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.logSuccess">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>logSuccess
            <span class="apidocSignatureSpan">(message, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.logWarning">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>logWarning
            <span class="apidocSignatureSpan">(message, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.makeActiveProject">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>makeActiveProject
            <span class="apidocSignatureSpan">(projectDir, newActive)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.reject">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>reject
            <span class="apidocSignatureSpan">(message, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.firebase-tools.utils.stringToStream">
            function <span class="apidocSignatureSpan">firebase-tools.utils.</span>stringToStream
            <span class="apidocSignatureSpan">(text)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.firebase-tools" id="apidoc.module.firebase-tools">module firebase-tools</a></h1>


    <h2>
        <a href="#apidoc.element.firebase-tools.config" id="apidoc.element.firebase-tools.config">
        function <span class="apidocSignatureSpan">firebase-tools.</span>config
        <span class="apidocSignatureSpan">(src, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">config = function (src, options) {
  this.options = options || {};
  this.projectDir = options.projectDir || detectProjectRoot(options.cwd);

  this._src = src;
  this.data = {};
  this.defaults = {};
  this.notes = {};

  if (this._src.firebase) {
    this.defaults.project = this._src.firebase;
    utils.logWarning(chalk.bold('"firebase"') + ' key in firebase.json is deprecated. Run ' + chalk.bold('firebase use --add') + '
instead');
  }

  if (_.has(this._src, 'rules')) {
    _.set(this._src, 'database.rules', this._src.rules);
  }

  Config.MATERIALIZE_TARGETS.forEach(function(target) {
    if (_.get(this._src, target)) {
      if (target === 'database.rules') {
        _.set(this.data, 'database.rulesString', this._materialize(target));
      } else {
        _.set(this.data, target, this._materialize(target));
      }
    }
  }, this);

  // auto-detect functions from package.json in directory
  if (this.projectDir &amp;&amp; !this.get('functions.source') &amp;&amp; fsutils.fileExistsSync(this.path('functions/package.json'))) {
    this.set('functions.source', 'functions');
  }

  // use 'public' as signal for legacy hosting since it's a required key
  if (!this.data.hosting &amp;&amp; this._src.public) {
    this.importLegacyHostingKeys();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.prompt" id="apidoc.element.firebase-tools.prompt">
        function <span class="apidocSignatureSpan">firebase-tools.</span>prompt
        <span class="apidocSignatureSpan">(options, questions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prompt = function (options, questions) {
  return new RSVP.Promise(function(resolve, reject) {
    var prompts = [];
    for (var i = 0; i &lt; questions.length; i++) {
      if (!options[questions[i].name]) {
        prompts.push(questions[i]);
      }
    }

    if (prompts.length &amp;&amp; options.nonInteractive) {
      return reject(new FirebaseError('Missing required options (' + _.uniq(_.map(prompts, 'name')).join(', ') + ') while running
 in non-interactive mode', {
        children: prompts,
        exit: 1
      }));
    }

    return inquirer.prompt(prompts, function(answers) {
      _.forEach(answers, function(v, k) {
        options[k] = v;
      });
      return resolve(options);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (prompts.length &amp;&amp; options.nonInteractive) {
      return reject(new FirebaseError('Missing required options (' + _.uniq(_.map(prompts, 'name')).join('
;, ') + ') while running in non-interactive mode', {
        children: prompts,
        exit: 1
      }));
    }

    return inquirer.<span class="apidocCodeKeywordSpan">prompt</span>(prompts, function(answers) {
      _.forEach(answers, function(v, k) {
        options[k] = v;
      });
      return resolve(options);
    });
  });
};
...</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.firebase-tools.config" id="apidoc.module.firebase-tools.config">module firebase-tools.config</a></h1>


    <h2>
        <a href="#apidoc.element.firebase-tools.config.config" id="apidoc.element.firebase-tools.config.config">
        function <span class="apidocSignatureSpan">firebase-tools.</span>config
        <span class="apidocSignatureSpan">(src, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">config = function (src, options) {
  this.options = options || {};
  this.projectDir = options.projectDir || detectProjectRoot(options.cwd);

  this._src = src;
  this.data = {};
  this.defaults = {};
  this.notes = {};

  if (this._src.firebase) {
    this.defaults.project = this._src.firebase;
    utils.logWarning(chalk.bold('"firebase"') + ' key in firebase.json is deprecated. Run ' + chalk.bold('firebase use --add') + '
instead');
  }

  if (_.has(this._src, 'rules')) {
    _.set(this._src, 'database.rules', this._src.rules);
  }

  Config.MATERIALIZE_TARGETS.forEach(function(target) {
    if (_.get(this._src, target)) {
      if (target === 'database.rules') {
        _.set(this.data, 'database.rulesString', this._materialize(target));
      } else {
        _.set(this.data, target, this._materialize(target));
      }
    }
  }, this);

  // auto-detect functions from package.json in directory
  if (this.projectDir &amp;&amp; !this.get('functions.source') &amp;&amp; fsutils.fileExistsSync(this.path('functions/package.json'))) {
    this.set('functions.source', 'functions');
  }

  // use 'public' as signal for legacy hosting since it's a required key
  if (!this.data.hosting &amp;&amp; this._src.public) {
    this.importLegacyHostingKeys();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.load" id="apidoc.element.firebase-tools.config.load">
        function <span class="apidocSignatureSpan">firebase-tools.config.</span>load
        <span class="apidocSignatureSpan">(options, allowMissing)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">load = function (options, allowMissing) {
  var pd = detectProjectRoot(options.cwd);
  if (pd) {
    try {
      var data = cjson.load(path.join(pd, Config.FILENAME));
      return new Config(data, options);
    } catch (e) {
      throw new FirebaseError('There was an error loading firebase.json:\n\n' + e.message, {
        exit: 1
      });
    }
  }

  if (allowMissing) {
    return null;
  }

  throw new FirebaseError('Not in a Firebase app directory (could not locate firebase.json)', {exit: 1});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (_isOutside(homeDir, cwd)) {
  warnings.push('You are currently outside your home directory');
}
if (cwd === homeDir) {
  warnings.push('You are initializing your home directory as a Firebase project');
}

var config = Config.<span class="apidocCodeKeywordSpan">load</span>(options, true);
var existingConfig = !!config;
if (!existingConfig) {
  config = new Config({}, {projectDir: cwd, cwd: cwd});
} else {
  warnings.push('You are initializing in an existing Firebase project directory');
}
...</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.firebase-tools.config.prototype" id="apidoc.module.firebase-tools.config.prototype">module firebase-tools.config.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype._hasDeepKey" id="apidoc.element.firebase-tools.config.prototype._hasDeepKey">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>_hasDeepKey
        <span class="apidocSignatureSpan">(obj, key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_hasDeepKey = function (obj, key) {
  if (_.has(obj, key)) {
    return true;
  }

  for (var k in obj) {
    if (_.isPlainObject(obj[k]) &amp;&amp; this._hasDeepKey(obj[k], key)) {
      return true;
    }
  }
  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Config.prototype._hasDeepKey = function(obj, key) {
  if (_.has(obj, key)) {
    return true;
  }

  for (var k in obj) {
    if (_.isPlainObject(obj[k]) &amp;&amp; this.<span class="apidocCodeKeywordSpan">_hasDeepKey</span>(obj[k], key)) {
      return true;
    }
  }
  return false;
};

Config.prototype._materialize = function(target) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype._materialize" id="apidoc.element.firebase-tools.config.prototype._materialize">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>_materialize
        <span class="apidocSignatureSpan">(target)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_materialize = function (target) {
  var val = _.get(this._src, target);
  if (_.isString(val)) {
    var out = this._parseFile(target, val);
    // if e.g. rules.json has {"rules": {}} use that
    var lastSegment = _.last(target.split('.'));
    if (_.size(out) === 1 &amp;&amp; _.has(out, lastSegment)) {
      out = out[lastSegment];
    }
    return out;
  } else if (_.isObject(val)) {
    if (target === 'database.rules') {
      this.notes.databaseRules = 'inline';
      return JSON.stringify({ 'rules': val }, null, 2);
    }
    return val;
  }

  throw new FirebaseError('Parse Error: "' + target + '" must be object or import path', {exit: 1});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (_.has(this._src, 'rules')) {
  _.set(this._src, 'database.rules', this._src.rules);
}

Config.MATERIALIZE_TARGETS.forEach(function(target) {
  if (_.get(this._src, target)) {
    if (target === 'database.rules') {
      _.set(this.data, 'database.rulesString', this.<span class="apidocCodeKeywordSpan">_materialize</span>(target));
    } else {
      _.set(this.data, target, this._materialize(target));
    }
  }
}, this);

// auto-detect functions from package.json in directory
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype._parseFile" id="apidoc.element.firebase-tools.config.prototype._parseFile">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>_parseFile
        <span class="apidocSignatureSpan">(target, filePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_parseFile = function (target, filePath) {
  var fullPath = resolveProjectPath(this.options.cwd, filePath);
  var ext = path.extname(filePath);
  if (!fsutils.fileExistsSync(fullPath)) {
    throw new FirebaseError('Parse Error: Imported file ' + filePath + ' does not exist', {exit: 1});
  }

  switch (ext) {
  case '.json':
    if (target === 'database') {
      this.notes.databaseRules = 'json';
    } else if (target === 'database.rules') {
      var rules = fs.readFileSync(fullPath, 'utf8');
      if (validateJsonRules(rules)) {
        return rules;
      }
      utils.logWarning(chalk.bold.yellow('database: ') + chalk.bold(filePath) + ' must have an outer ' + chalk.bold('rules') + '
key, for example:');
      logger.warn('\n{\n\t"rules": {".read": false, ".write": false}\n}');
      throw new FirebaseError('Database security rules are not correctly formatted', {exit: 1});
    }
    return loadCJSON(fullPath);
<span class="apidocCodeCommentSpan">  /* istanbul ignore-next */
</span>  case '.bolt':
    if (target === 'database') {
      this.notes.databaseRules = 'bolt';
    }
    return parseBoltRules(fullPath);
  default:
    throw new FirebaseError('Parse Error: ' + filePath + ' is not of a supported config file type', {exit: 1});
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
return false;
};

Config.prototype._materialize = function(target) {
var val = _.get(this._src, target);
if (_.isString(val)) {
  var out = this.<span class="apidocCodeKeywordSpan">_parseFile</span>(target, val);
  // if e.g. rules.json has {"rules": {}} use that
  var lastSegment = _.last(target.split('.'));
  if (_.size(out) === 1 &amp;&amp; _.has(out, lastSegment)) {
    out = out[lastSegment];
  }
  return out;
} else if (_.isObject(val)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype.askWriteProjectFile" id="apidoc.element.firebase-tools.config.prototype.askWriteProjectFile">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>askWriteProjectFile
        <span class="apidocSignatureSpan">(p, content)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">askWriteProjectFile = function (p, content) {
  var writeTo = this.path(p);
  var next;
  if (fsutils.fileExistsSync(writeTo)) {
    next = prompt.once({
      type: 'confirm',
      message: 'File ' + chalk.underline(p) + ' already exists. Overwrite?',
      default: false
    });
  } else {
    next = RSVP.resolve(true);
  }

  var self = this;
  return next.then(function(result) {
    if (result) {
      self.writeProjectFile(p, content);
      utils.logSuccess('Wrote ' + chalk.bold(p));
    } else {
      utils.logBullet('Skipping write of ' + chalk.bold(p));
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype.get" id="apidoc.element.firebase-tools.config.prototype.get">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>get
        <span class="apidocSignatureSpan">(key, fallback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (key, fallback) {
  return _.get(this.data, key, fallback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      return new RSVP.Promise(function(resolve, reject) {
var fileOut = !!options.output;
var outStream = fileOut ? fs.createWriteStream(options.output) : process.stdout;
var erroring;
var errorResponse = '';
var response;

request.<span class="apidocCodeKeywordSpan">get</span>(reqOptionsWithToken)
  .on('response', function(res) {
    response = res;
    if (response.statusCode &gt;= 400) {
      erroring = true;
    }
  })
  .on('data', function(chunk) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype.has" id="apidoc.element.firebase-tools.config.prototype.has">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>has
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">has = function (key) {
  return _.has(this.data, key);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
.before(requireAccess)
.action(function(options) {
  // Validate options
  if (options.raw &amp;&amp; options.input) {
    return utils.reject('Cannot specify both an input file and raw format', {exit: 1});
  } else if (options.parent.json &amp;&amp; options.raw) {
    return utils.reject('Cannot output raw data in json format', {exit: 1});
  } else if (options.input &amp;&amp; _.<span class="apidocCodeKeywordSpan">has</span>(options, 'duration')) {
    return utils.reject('Cannot specify a duration for input files', {exit: 1});
  } else if (_.has(options, 'duration') &amp;&amp; options.duration &lt;= 0) {
    return utils.reject('Must specify a positive number of seconds', {exit: 1});
  }

  return profiler(options);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype.importLegacyHostingKeys" id="apidoc.element.firebase-tools.config.prototype.importLegacyHostingKeys">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>importLegacyHostingKeys
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">importLegacyHostingKeys = function () {
  var found = false;
  Config.LEGACY_HOSTING_KEYS.forEach(function(key) {
    if (_.has(this._src, key)) {
      found = true;
      this.set('hosting.' + key, this._src[key]);
    }
  }, this);
  if (found) {
    utils.logWarning('Deprecation Warning: Firebase Hosting configuration should be moved under "hosting" key.');
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // auto-detect functions from package.json in directory
  if (this.projectDir &amp;&amp; !this.get('functions.source') &amp;&amp; fsutils.fileExistsSync(this.path('functions
/package.json'))) {
    this.set('functions.source', 'functions');
  }

  // use 'public' as signal for legacy hosting since it's a required key
  if (!this.data.hosting &amp;&amp; this._src.public) {
    this.<span class="apidocCodeKeywordSpan">importLegacyHostingKeys</span>();
  }
};

Config.FILENAME = 'firebase.json';
Config.MATERIALIZE_TARGETS = ['functions', 'hosting', 'database.rules', 'storage'];
Config.LEGACY_HOSTING_KEYS = ['public', 'rewrites', 'redirects', 'headers', 'ignore
', 'cleanUrls', 'trailingSlash'];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype.path" id="apidoc.element.firebase-tools.config.prototype.path">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>path
        <span class="apidocSignatureSpan">(pathName)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">path = function (pathName) {
  var outPath = path.normalize(path.join(this.projectDir, pathName));
  if (_.includes(path.relative(this.projectDir, outPath), '..')) {
    throw new FirebaseError(chalk.bold(pathName) + ' is outside of project directory', {exit: 1});
  }
  return outPath;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    } else {
      _.set(this.data, target, this._materialize(target));
    }
  }
}, this);

// auto-detect functions from package.json in directory
if (this.projectDir &amp;&amp; !this.get('functions.source') &amp;&amp; fsutils.fileExistsSync(this.<span class="apidocCodeKeywordSpan
">path</span>('functions/package.json'))) {
  this.set('functions.source', 'functions');
}

// use 'public' as signal for legacy hosting since it's a required key
if (!this.data.hosting &amp;&amp; this._src.public) {
  this.importLegacyHostingKeys();
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype.readProjectFile" id="apidoc.element.firebase-tools.config.prototype.readProjectFile">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>readProjectFile
        <span class="apidocSignatureSpan">(p, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readProjectFile = function (p, options) {
  try {
    var content = fs.readFileSync(this.path(p), 'utf8');
    if (options.json) {
      return JSON.parse(content);
    }
    return content;
  } catch (e) {
    if (options.fallback) {
      return options.fallback;
    }
    throw e;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
logger.info(chalk.yellow.bold(BANNER_TEXT) +
  '\nYou\'re about to initialize a Firebase project in this directory:\n\n  ' + chalk.bold(config.projectDir) + &amp;#
x27;\n' +
  warningText
);

var setup = {
  config: config._src,
  rcfile: config.<span class="apidocCodeKeywordSpan">readProjectFile</span>('.firebaserc', {
    json: true,
    fallback: {}
  })
};

var choices = [
  {name: 'database', label: 'Database: Deploy Firebase Realtime Database Rules', checked: true},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype.set" id="apidoc.element.firebase-tools.config.prototype.set">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>set
        <span class="apidocSignatureSpan">(key, value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">set = function (key, value) {
  return _.set(this.data, key, value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

return prompt(options, [{
  type: 'confirm',
  name: 'collectUsage',
  message: 'Allow Firebase to collect anonymous CLI usage information?'
}]).then(function() {
  configstore.<span class="apidocCodeKeywordSpan">set</span>('usage', options.collectUsage);
  return auth.login(options.localhost);
}).then(function(result) {
  configstore.set('user', result.user);
  configstore.set('tokens', result.tokens);
  // store login scopes in case mandatory scopes grow over time
  configstore.set('loginScopes', result.scopes);
  // remove old session token, if it exists
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.config.prototype.writeProjectFile" id="apidoc.element.firebase-tools.config.prototype.writeProjectFile">
        function <span class="apidocSignatureSpan">firebase-tools.config.prototype.</span>writeProjectFile
        <span class="apidocSignatureSpan">(p, content)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeProjectFile = function (p, content) {
  if (typeof content !== 'string') {
    content = JSON.stringify(content, null, 2) + '\n';
  }

  fs.ensureFileSync(this.path(p));
  fs.writeFileSync(this.path(p), content, 'utf8');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  });
}
setup.features.unshift('project');
return init(setup, config, options);
    }).then(function() {
logger.info();
utils.logBullet('Writing configuration info to ' + chalk.bold('firebase.json') + '...');
config.<span class="apidocCodeKeywordSpan">writeProjectFile</span>('firebase.json', setup.config);
utils.logBullet('Writing project information to ' + chalk.bold('.firebaserc') + '...');
config.writeProjectFile('.firebaserc', setup.rcfile);
logger.info();
utils.logSuccess('Firebase initialization complete!');

if (setup.createProject) {
  logger.info();
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.firebase-tools.fsutils" id="apidoc.module.firebase-tools.fsutils">module firebase-tools.fsutils</a></h1>


    <h2>
        <a href="#apidoc.element.firebase-tools.fsutils.dirExistsSync" id="apidoc.element.firebase-tools.fsutils.dirExistsSync">
        function <span class="apidocSignatureSpan">firebase-tools.fsutils.</span>dirExistsSync
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dirExistsSync = function (path) {
  try {
    var stats = fs.lstatSync(path);
    return stats.isDirectory();
  } catch (e) {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.fsutils.fileExistsSync" id="apidoc.element.firebase-tools.fsutils.fileExistsSync">
        function <span class="apidocSignatureSpan">firebase-tools.fsutils.</span>fileExistsSync
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fileExistsSync = function (path) {
  try {
    var stats = fs.lstatSync(path);
    return stats.isFile();
  } catch (e) {
    return false;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    } else {
      _.set(this.data, target, this._materialize(target));
    }
  }
}, this);

// auto-detect functions from package.json in directory
if (this.projectDir &amp;&amp; !this.get('functions.source') &amp;&amp; fsutils.<span class="apidocCodeKeywordSpan
">fileExistsSync</span>(this.path('functions/package.json'))) {
  this.set('functions.source', 'functions');
}

// use 'public' as signal for legacy hosting since it's a required key
if (!this.data.hosting &amp;&amp; this._src.public) {
  this.importLegacyHostingKeys();
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.firebase-tools.logger" id="apidoc.module.firebase-tools.logger">module firebase-tools.logger</a></h1>










    <h2>
        <a href="#apidoc.element.firebase-tools.logger.debug" id="apidoc.element.firebase-tools.logger.debug">
        function <span class="apidocSignatureSpan">firebase-tools.logger.</span>debug
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var responseToError = require('./responseToError');
var refreshToken;
var commandScopes;
var scopes = require('./scopes');
var CLI_VERSION = require('../package.json').version;

var _request = function(options) {
logger.<span class="apidocCodeKeywordSpan">debug</span>('&gt;&gt;&gt; HTTP REQUEST',
  options.method,
  options.url,
  options.body || options.form || '',
  '\n',
  new Date().toString()
);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.logger.error" id="apidoc.element.firebase-tools.logger.error">
        function <span class="apidocSignatureSpan">firebase-tools.logger.</span>error
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
'data:update': 'database:update',
'deploy:hosting': 'deploy --only hosting',
'deploy:database': 'deploy --only database',
'prefs:token': 'login:ci'
};

program.action(function(cmd, cmd2) {
logger.<span class="apidocCodeKeywordSpan">error</span>(
  chalk.bold.red('Error:'),
  chalk.bold(cmd), 'is not a Firebase command'
);

if (RENAMED_COMMANDS[cmd]) {
  logger.error();
  logger.error(chalk.bold(cmd) + ' has been renamed, please run', chalk.bold('firebase ' + RENAMED_COMMANDS[
cmd]), 'instead');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.logger.info" id="apidoc.element.firebase-tools.logger.info">
        function <span class="apidocSignatureSpan">firebase-tools.logger.</span>info
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var exportOptions = checkRes;
  var writeStream = fs.createWriteStream(dataFile);
  if (exportOptions.format === 'json') {
    writeStream.write('{"users": [' + os.EOL);
  }
  exportOptions.writeStream = writeStream;
  exportOptions.batchSize = MAX_BATCH_SIZE;
  logger.<span class="apidocCodeKeywordSpan">info</span>('Exporting accounts to ' + chalk.bold(dataFile));
  return serialExportUsers(projectId, exportOptions).then(function() {
    if (exportOptions.format === 'json') {
      writeStream.write(']}');
    }
    writeStream.end();
  });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.logger.log" id="apidoc.element.firebase-tools.logger.log">
        function <span class="apidocSignatureSpan">firebase-tools.logger.</span>log
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">log = function () {
  var args = Array.prototype.slice.call(arguments, 0);
  if (args.length &gt;= 2 &amp;&amp; args[1] instanceof Error) {
    args[1] = args[1].stack;
  }
  return oldLogFunc.apply(this, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Using as a Module

The Firebase CLI can also be used programmatically as a standard Node module. Each command is exposed as a function that takes an
 options object and returns a Promise. For example:

```js
var client = require('firebase-tools');
client.list().then(function(data) {
console.<span class="apidocCodeKeywordSpan">log</span>(data);
}).catch(function(err) {
// handle error
});

client.deploy({
project: 'myfirebase',
token: process.env.FIREBASE_TOKEN,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.logger.silly" id="apidoc.element.firebase-tools.logger.silly">
        function <span class="apidocSignatureSpan">firebase-tools.logger.</span>silly
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">silly = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.logger.verbose" id="apidoc.element.firebase-tools.logger.verbose">
        function <span class="apidocSignatureSpan">firebase-tools.logger.</span>verbose
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">verbose = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.logger.warn" id="apidoc.element.firebase-tools.logger.warn">
        function <span class="apidocSignatureSpan">firebase-tools.logger.</span>warn
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">warn = function (msg) {
  // build argument list (level, msg, ... [string interpolate], [{metadata}], [callback])
  var args = [level].concat(Array.prototype.slice.call(arguments));
  target.log.apply(target, args);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
module.exports = new Command('help [command]')
.description('display help information')
.action(function(commandName) {
  var cmd = this.client.getCommand(commandName);
  if (cmd) {
    cmd.outputHelp();
  } else if (commandName) {
    logger.<span class="apidocCodeKeywordSpan">warn</span>();
    utils.logWarning(chalk.bold(commandName) + ' is not a valid command. See below for valid commands');
    this.client.cli.outputHelp();
  } else {
    this.client.cli.outputHelp();
    logger.info();
    logger.info('  To get help with a specific command, type', chalk.bold('firebase help [command_name]'));
    logger.info();
...</pre></li>
    </ul>


























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.firebase-tools.prompt" id="apidoc.module.firebase-tools.prompt">module firebase-tools.prompt</a></h1>


    <h2>
        <a href="#apidoc.element.firebase-tools.prompt.prompt" id="apidoc.element.firebase-tools.prompt.prompt">
        function <span class="apidocSignatureSpan">firebase-tools.</span>prompt
        <span class="apidocSignatureSpan">(options, questions)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">prompt = function (options, questions) {
  return new RSVP.Promise(function(resolve, reject) {
    var prompts = [];
    for (var i = 0; i &lt; questions.length; i++) {
      if (!options[questions[i].name]) {
        prompts.push(questions[i]);
      }
    }

    if (prompts.length &amp;&amp; options.nonInteractive) {
      return reject(new FirebaseError('Missing required options (' + _.uniq(_.map(prompts, 'name')).join(', ') + ') while running
 in non-interactive mode', {
        children: prompts,
        exit: 1
      }));
    }

    return inquirer.prompt(prompts, function(answers) {
      _.forEach(answers, function(v, k) {
        options[k] = v;
      });
      return resolve(options);
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (prompts.length &amp;&amp; options.nonInteractive) {
      return reject(new FirebaseError('Missing required options (' + _.uniq(_.map(prompts, 'name')).join('
;, ') + ') while running in non-interactive mode', {
        children: prompts,
        exit: 1
      }));
    }

    return inquirer.<span class="apidocCodeKeywordSpan">prompt</span>(prompts, function(answers) {
      _.forEach(answers, function(v, k) {
        options[k] = v;
      });
      return resolve(options);
    });
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.prompt.convertLabeledListChoices" id="apidoc.element.firebase-tools.prompt.convertLabeledListChoices">
        function <span class="apidocSignatureSpan">firebase-tools.prompt.</span>convertLabeledListChoices
        <span class="apidocSignatureSpan">(choices)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">convertLabeledListChoices = function (choices) {
  return choices.map(function(choice) {
    return {checked: choice.checked, name: choice.label};
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return undefined;
  }

  return prompt(setup, [{
    type: 'checkbox',
    name: 'features',
    message: 'What Firebase CLI features do you want to setup for this directory?',
    choices: prompt.<span class="apidocCodeKeywordSpan">convertLabeledListChoices</span>(choices)
  }]);
}).then(function() {
  if (!setup.featureArg) {
    setup.features = setup.features.map(function(feat) {
      return prompt.listLabelToValue(feat, choices);
    });
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.prompt.listLabelToValue" id="apidoc.element.firebase-tools.prompt.listLabelToValue">
        function <span class="apidocSignatureSpan">firebase-tools.prompt.</span>listLabelToValue
        <span class="apidocSignatureSpan">(label, choices)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listLabelToValue = function (label, choices) {
  for (var i = 0; i &lt; choices.length; i++) {
    if (choices[i].label === label) {
      return choices[i].name;
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    name: 'features',
    message: 'What Firebase CLI features do you want to setup for this directory?',
    choices: prompt.convertLabeledListChoices(choices)
  }]);
}).then(function() {
  if (!setup.featureArg) {
    setup.features = setup.features.map(function(feat) {
      return prompt.<span class="apidocCodeKeywordSpan">listLabelToValue</span>(feat, choices);
    });
  }
  setup.features.unshift('project');
  return init(setup, config, options);
}).then(function() {
  logger.info();
  utils.logBullet('Writing configuration info to ' + chalk.bold('firebase.json') + '...');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.prompt.once" id="apidoc.element.firebase-tools.prompt.once">
        function <span class="apidocSignatureSpan">firebase-tools.prompt.</span>once
        <span class="apidocSignatureSpan">(question)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">once = function (question) {
  question.name = question.name || 'question';
  return prompt({}, [question]).then(function(answers) { return answers[question.name]; });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // {name: 'storage', label: 'Storage: Deploy Firebase Storage Security Rules', checked: true}
];

var next;
// HACK: Windows Node has issues with selectables as the first prompt, so we
// add an extra confirmation prompt that fixes the problem
if (process.platform === 'win32') {
  next = prompt.<span class="apidocCodeKeywordSpan">once</span>({
    type: 'confirm',
    message: 'Are you ready to proceed?'
  });
} else {
  next = RSVP.resolve(true);
}
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.firebase-tools.utils" id="apidoc.module.firebase-tools.utils">module firebase-tools.utils</a></h1>


    <h2>
        <a href="#apidoc.element.firebase-tools.utils.addSubdomain" id="apidoc.element.firebase-tools.utils.addSubdomain">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>addSubdomain
        <span class="apidocSignatureSpan">(origin, subdomain)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">addSubdomain = function (origin, subdomain) {
  return origin.replace('//', '//' + subdomain + '.');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  .option('--equal-to &lt;val&gt;', 'restrict results to &lt;val&gt; (based on specified ordering)')
  .before(requireAccess)
  .action(function(path, options) {
if (!_.startsWith(path, '/')) {
  return utils.reject('Path must begin with /', {exit: 1});
}

var url = utils.<span class="apidocCodeKeywordSpan">addSubdomain</span>(api.realtimeOrigin, options.instance) + path + '.json
?';
var query = {};
if (options.shallow) { query.shallow = 'true'; }
if (options.pretty) { query.print = 'pretty'; }
if (options.export) { query.format = 'export'; }
if (options.orderByKey) { options.orderBy = '$key'; }
if (options.orderByValue) { options.orderBy = '$value'; }
_applyStringOpts(query, options, ['limitToFirst', 'limitToLast'], ['orderBy', 'startAt', &amp;#
x27;endAt', 'equalTo']);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.consoleUrl" id="apidoc.element.firebase-tools.utils.consoleUrl">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>consoleUrl
        <span class="apidocSignatureSpan">(project, path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">consoleUrl = function (project, path) {
  var api = require('./api');
  return api.consoleOrigin + '/project/' + project + path;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return reject(responseToError(res, body));
  }

  if (!_.endsWith(path, '/')) {
    path += '/';
  }

  var consoleUrl = utils.<span class="apidocCodeKeywordSpan">consoleUrl</span>(options.project, '/database/data' + path
 + body.name);
  var refurl = utils.addSubdomain(api.realtimeOrigin, options.instance) + path + body.name;

  utils.logSuccess('Data pushed successfully');
  logger.info();
  logger.info(chalk.bold('View data at:'), consoleUrl);
  return resolve(new Firebase(refurl));
}));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.endpoint" id="apidoc.element.firebase-tools.utils.endpoint">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>endpoint
        <span class="apidocSignatureSpan">(parts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">endpoint = function (parts) {
  return '/' + _.join(parts, '/');
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.envOverride" id="apidoc.element.firebase-tools.utils.envOverride">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>envOverride
        <span class="apidocSignatureSpan">(envname, value, coerce)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">envOverride = function (envname, value, coerce) {
  if (process.env[envname] &amp;&amp; process.env[envname].length) {
    if (coerce) {
      try {
        return coerce(process.env[envname], value);
      } catch (e) {
        return value;
      }
    }
    return process.env[envname];
  }
  return value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
return path;
};

var api = {
// "In this context, the client secret is obviously not treated as a secret"
// https://developers.google.com/identity/protocols/OAuth2InstalledApp
clientId: utils.<span class="apidocCodeKeywordSpan">envOverride</span>('FIREBASE_CLIENT_ID', '563584335869-fgrhgmd47bqnekij5i8b5pr03ho849e6
.apps.googleusercontent.com'),
clientSecret: utils.envOverride('FIREBASE_CLIENT_SECRET', 'j9iVZfS8kkCEFUPaAeJV0sAi'),
cloudloggingOrigin: utils.envOverride('FIREBASE_CLOUDLOGGING_URL', 'https://logging.googleapis.com'),
adminOrigin: utils.envOverride('FIREBASE_ADMIN_URL', 'https://admin.firebase.com'),
apikeysOrigin: utils.envOverride('FIREBASE_APIKEYS_URL', 'https://apikeys.googleapis.com'),
appengineOrigin: utils.envOverride('FIREBASE_APPENGINE_URL', 'https://appengine.googleapis.com'),
authOrigin: utils.envOverride('FIREBASE_AUTH_URL', 'https://accounts.google.com'),
consoleOrigin: utils.envOverride('FIREBASE_CONSOLE_URL', 'https://console.firebase.google.com'),
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.explainStdin" id="apidoc.element.firebase-tools.utils.explainStdin">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>explainStdin
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">explainStdin = function () {
  if (isWindows) {
    throw new FirebaseError('STDIN input is not available on Windows.', {exit: 1});
  }
  if (process.stdin.isTTY) {
    logger.info(chalk.bold('Note:'), 'Reading STDIN. Type JSON data and then press Ctrl-D');
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return utils.reject('Path must begin with /', {exit: 1});
}

var inStream = utils.stringToStream(options.data) || (infile ? fs.createReadStream(infile) : process.stdin);
var url = utils.addSubdomain(api.realtimeOrigin, options.instance) + path + '.json?';

if (!infile &amp;&amp; !options.data) {
  utils.<span class="apidocCodeKeywordSpan">explainStdin</span>();
}

var reqOptions = {
  url: url,
  json: true
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.getInheritedOption" id="apidoc.element.firebase-tools.utils.getInheritedOption">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>getInheritedOption
        <span class="apidocSignatureSpan">(options, key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getInheritedOption = function (options, key) {
  var target = options;
  while (target) {
    if (_.has(target, key)) {
      return target[key];
    }
    target = target.parent;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

module.exports = new Command('logout')
.description('log the CLI out of Firebase')
.action(function(options) {
  var user = configstore.get('user');
  var tokens = configstore.get('tokens');
  var currentToken = _.get(tokens, 'refresh_token');
  var token = utils.<span class="apidocCodeKeywordSpan">getInheritedOption</span>(options, 'token') || currentToken;
  api.setToken(token);
  var next;
  if (token) {
    next = auth.logout(token);
  } else {
    next = RSVP.resolve();
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.logBullet" id="apidoc.element.firebase-tools.utils.logBullet">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>logBullet
        <span class="apidocSignatureSpan">(message, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logBullet = function (message, type) {
  type = type || 'info';
  logger[type](chalk.cyan.bold('i '), message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return prompt.listLabelToValue(feat, choices);
  });
}
setup.features.unshift('project');
return init(setup, config, options);
    }).then(function() {
logger.info();
utils.<span class="apidocCodeKeywordSpan">logBullet</span>('Writing configuration info to ' + chalk.bold('firebase
.json') + '...');
config.writeProjectFile('firebase.json', setup.config);
utils.logBullet('Writing project information to ' + chalk.bold('.firebaserc') + '...');
config.writeProjectFile('.firebaserc', setup.rcfile);
logger.info();
utils.logSuccess('Firebase initialization complete!');

if (setup.createProject) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.logSuccess" id="apidoc.element.firebase-tools.utils.logSuccess">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>logSuccess
        <span class="apidocSignatureSpan">(message, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logSuccess = function (message, type) {
  type = type || 'info';
  var chr = isWindows ? '+' : '';
  logger[type](chalk.green(chr + ' '), message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        if (!_.endsWith(path, '/')) {
          path += '/';
        }

        var consoleUrl = utils.consoleUrl(options.project, '/database/data' + path + body.name);
        var refurl = utils.addSubdomain(api.realtimeOrigin, options.instance) + path + body.name;

        utils.<span class="apidocCodeKeywordSpan">logSuccess</span>('Data pushed successfully');
        logger.info();
        logger.info(chalk.bold('View data at:'), consoleUrl);
        return resolve(new Firebase(refurl));
      }));
    });
  });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.logWarning" id="apidoc.element.firebase-tools.utils.logWarning">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>logWarning
        <span class="apidocSignatureSpan">(message, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logWarning = function (message, type) {
  type = type || 'warn';
  var chr = isWindows ? '!' : '&nbsp;';
  logger[type](chalk.yellow.bold(chr + ' '), message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return acquireRefs(options, [scopes.CLOUD_PLATFORM])
    .catch(function(err) {
      if (options.config.has('functions')) {
        throw err;
      }

      logger.info();
      utils.<span class="apidocCodeKeywordSpan">logWarning</span>(chalk.bold('Your CLI authentication needs to be updated to
 take advantage of new features.'));
      utils.logWarning(chalk.bold('Please run ' + chalk.underline('firebase login --reauth')));
      logger.info();

      return acquireRefs(options, []);
    });
})
.before(checkDupHostingKeys)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.makeActiveProject" id="apidoc.element.firebase-tools.utils.makeActiveProject">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>makeActiveProject
        <span class="apidocSignatureSpan">(projectDir, newActive)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">makeActiveProject = function (projectDir, newActive) {
  var activeProjects = configstore.get('activeProjects') || {};
  if (newActive) {
    activeProjects[projectDir] = newActive;
  } else {
    _.unset(activeProjects, projectDir);
  }

  configstore.set('activeProjects', activeProjects);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  return next.then(function(confirmed) {
    if (confirmed) {
      options.config.writeProjectFile('firebase.json', out);
      utils.logSuccess('Migrated ' + chalk.bold('firebase.json') + ' successfully');
      if (projectId) {
        options.config.writeProjectFile('.firebaserc', rcfile);
        utils.<span class="apidocCodeKeywordSpan">makeActiveProject</span>(options.projectRoot, projectId);
        utils.logSuccess('Set default project to ' + chalk.bold(projectId));
      }
    } else {
      return utils.reject('Migration aborted by user.', {exit: 1});
    }
  });
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.reject" id="apidoc.element.firebase-tools.utils.reject">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>reject
        <span class="apidocSignatureSpan">(message, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reject = function (message, options) {
  return RSVP.reject(new FirebaseError(message, options));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var checkRes = validateOptions(options);
if (!checkRes.valid) {
  return checkRes;
}
var hashOptions = checkRes;

if (!_.endsWith(dataFile, '.csv') &amp;&amp; !_.endsWith(dataFile, '.json')) {
  return utils.<span class="apidocCodeKeywordSpan">reject</span>('Data file must end with .csv or .json', {exit: 1});
}
var stats = fs.statSync(dataFile);
var fileSizeInBytes = stats.size;
logger.info('Processing ' + chalk.bold(dataFile) + ' (' + fileSizeInBytes + ' bytes)');

var inStream = fs.createReadStream(dataFile);
var batches = [];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.firebase-tools.utils.stringToStream" id="apidoc.element.firebase-tools.utils.stringToStream">
        function <span class="apidocSignatureSpan">firebase-tools.utils.</span>stringToStream
        <span class="apidocSignatureSpan">(text)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stringToStream = function (text) {
  if (!text) {
    return undefined;
  }
  var s = new Readable();
  s.push(text);
  s.push(null);
  return s;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  .option('-d, --data &lt;data&gt;', 'specify escaped JSON directly')
  .before(requireAccess)
  .action(function(path, infile, options) {
if (!_.startsWith(path, '/')) {
  return utils.reject('Path must begin with /', {exit: 1});
}

var inStream = utils.<span class="apidocCodeKeywordSpan">stringToStream</span>(options.data) || (infile ? fs.createReadStream(infile
) : process.stdin);
var url = utils.addSubdomain(api.realtimeOrigin, options.instance) + path + '.json?';

if (!infile &amp;&amp; !options.data) {
  utils.explainStdin();
}

var reqOptions = {
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>